---
interface Props {
  project: {
    slug: string;
    name: string;
    image: string;
    description: string;
    status: 'delivered' | 'under-construction';
  };
}

const { project } = Astro.props;
const statusText = project.status === 'delivered' ? 'تم التسليم' : 'تحت الإنشاء';
const statusClass = project.status === 'delivered' ? 'status-delivered' : 'status-under-construction';
---

<div class="project-card">
  <a href={project.slug} class="card-link-wrapper">
    <div class="card-image">
      <img src={project.image} alt={`صورة مشروع ${project.name}`} loading="lazy" width="400" height="300">
      <div class={`status-badge ${statusClass}`}>{statusText}</div>
    </div>
    <div class="card-content">
      <h3 class="card-title">{project.name}</h3>
      <p class="card-description">{project.description}</p>
    </div>
  </a>
  <div class="card-footer">
    <a href={project.slug} class="btn-details">عرض التفاصيل &rarr;</a>
  </div>
</div>

<style>
  @keyframes shine {
		0% {
			background-position: -200% center;
		}
		100% {
			background-position: 200% center;
		}
	}

  .project-card {
    display: flex;
    flex-direction: column;
    background-color: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    overflow: hidden;
    text-decoration: none;
    color: var(--text-dark);
    border: 2px solid transparent;
    background-clip: padding-box;
    border: 2px solid #DAA520;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  }

  .project-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 12px 30px rgba(218, 165, 32, 0.4);
  }

  .card-link-wrapper {
      text-decoration: none;
      color: inherit;
      display: block;
  }

  .card-image {
    position: relative;
    width: 100%;
    height: 200px;
  }

  .card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
  }

  .project-card:hover .card-image img {
      transform: scale(1.05);
  }

  .status-badge {
    position: absolute;
    top: 1rem;
    left: 1rem;
    padding: 0.4rem 0.8rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: bold;
    color: #fff;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    z-index: 1;
    backdrop-filter: blur(5px);
  }

  .status-delivered {
    background-color: rgba(184, 134, 11, 0.7); /* Dark Goldenrod */
  }

  .status-under-construction {
    background-color: rgba(218, 165, 32, 0.7); /* Goldenrod */
  }

  .card-content {
    padding: 1.5rem;
    flex-grow: 1;
  }

  .card-title {
    font-size: 1.6rem;
    font-weight: 700;
    margin: 0 0 0.75rem;
    display: inline-block;
    background: linear-gradient(90deg, #B8860B, #EACD65, #B8860B);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    background-size: 200% auto;
		animation: shine 5s linear infinite;
  }

  .card-description {
    font-size: 0.95rem;
    color: var(--secondary);
    opacity: 1;
    line-height: 1.6;
    margin: 0 0 1rem;
  }

  .card-footer {
      padding: 0 1.5rem 1.5rem;
      text-align: right;
  }

  .btn-details {
    display: inline-block;
    padding: 0.6rem 1.5rem;
    font-size: 0.9rem;
    font-weight: 700;
    color: #fff;
    background: linear-gradient(90deg, #B8860B, #DAA520);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;
    text-decoration: none;
  }

  .btn-details:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(218, 165, 32, 0.4);
  }

</style>